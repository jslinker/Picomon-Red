pico-8 cartridge // http://www.pico-8.com
version 29
__lua__

carousel = {}
carousel.isFinished = false
carousel.animations = {}
carousel.frame = 1
function carousel:init()
    local dropin = {
        duration = 35,
        draw = function (frame)
            spr(0,0, -64 + frame * 2, 16, 7)
        end
    }
    local bigBounce = {
        duration = 4,
        draw = function (frame)
            spr(0,0, 8 - frame, 16, 7)
        end
    }
    local bigDrop = {
        duration = 5,
        draw = function (frame)
            spr(0,0, 3 + frame, 16, 7)
        end
    }
    local smallBounce = {
        duration = 2,
        draw = function (frame)
            spr(0,0, 8 - frame, 16, 7)
        end
    }
    local smallDrop = {
        duration = 2,
        draw = function (frame)
            spr(0,0, 6 + frame, 16, 7)
        end
    }
    add(self.animations, dropin)
    add(self.animations, bigBounce)
    add(self.animations, bigDrop)
    add(self.animations, smallBounce)
    add(self.animations, smallDrop)
end

function carousel:update()
    self.frame += 1
    if btnp(4) or btn(5) then
        self.isFinished = true
    end
end

function carousel:draw()
    cls()
    rectfill(0,0,128,128,7)
    if self.animations[1] ~= nil then
        self.animations[1].draw(self.frame)
        if self.frame > self.animations[1].duration then
            del(self.animations, self.animations[1])
            self.frame = 1
        end
    else
        spr(0, 0, 8, 16, 7)
    end

    print("Press X or Z to start", 24, 112, 1)
    print("C'95, '96, '98 GAME FREAK inc.", 4, 120, 1)
    

    -- Draw Charamander
    local x = 32
    local y = 68
    spr(139, x - 3, y, 5, 1)
    spr(144, x, y + 8, 5, 1)
    spr(149, x - 3, y + 16, 5, 1)
    spr(154, x - 3, y + 24, 5, 1)
    spr(160, x + 4, y + 32, 3, 1)

    -- Draw Ash
    x = 64
    y = 52
    spr(112, x + 8, y, 3, 1)
    spr(115, x + 8, y + 8, 4, 1)
    spr(119, x, y + 16, 5, 1)
    spr(128, x, y + 24, 5, 1)
    spr(133, x + 16, y + 32, 3, 1)
    spr(136, x + 16, y + 40, 3, 1)
    spr(124, x + 8, y + 48, 4, 1)
end

-->8

function _init()
    carousel:init()
end

function _update()
    carousel:update()
end

function _draw()
    carousel:draw()
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000001500000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000051160000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000511110000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000006116515000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000061166611600000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000611666661160000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000116666651160000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000066606500000000001156665115600000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000065111605150000000051566511150000000000000611111116000000000000000000000000000000000
00000000000006655511155560000000000000000065111111661115000000611551115556000065555555111111115000000000000000000000000000000000
00000000000551111111111111500000000000065111115511651511500000651111155556000051111111111666615000000000555600000000000000000000
00000000651111155666665511156000000000011115666651511661110000551111111116000011566665111666611000000000511115660000000000000000
00000065111156666666666665111600000000011666666651116666111606111155555111160011666666111666611000000000511111111556000000000000
00006511156666666666666666651160000000011666666651156666651151115666666661116611666666516666611000000000516666551111065660000000
00051115666666666666666666665110000006511116666651566666665111566666666666515515666666516666611600000055516666666611651111566000
00611566666666666666666666666115000005551116666651666666665115666655556666611115666666616666651500000055511566666651651511111156
00051566666666666666666666666515000005551116666655666666661156666511116666511115666666656666661500000055511566666651115666655116
00651156666666666665555566666611600005555515666666666666611166665111166665115116666666666666661100665555551566666661115666666150
05555116666666666665111116666611600005555515666666666666111566661111566651155116666666666666661165111111111566666661116666665150
65555115666666666666111111666611606651555515666666666661111566661566666511156116666666666666661111156666511566666661116666661160
05555511666666666666511111566611651111111115666666666651511666661666665111115116666666666666665115666666665156666665116666661100
06555551551566666666666511566611115666665111666666666115511666665666651156511156666666666666661166655666666116666665156666651500
00555551111166666666666651566511166666666651566666665115611666666666511666651156666666666666651166516666666515666666166666611600
00655555111156666666666651666111666556666661166666666511111566666666666666665111666666666666611666116666566615666666166666611000
00065555555116666666666616665116665166666665156666666666511166666666666666666115666666666566515666115666166611666666566666515000
00005555555115666666666566651166661166666666116666666666665116666666666666651156666556666166116666511111166651666666666666116000
00006555555511666666666666511566661116661666516666666666666115666666666666511166666516666166116666611111666611666666666666110000
00000555555511666666666665111666665111111666516665566666666611115666666511111566666515665156116666665556666615666666666665150000
00000650655551166666666651111666666111116666516661115666666665111111111111511566666511661156116666666666666516665666666661160000
00000000055551166666666511551666666655566666116661111156666666651111111155511666666111561116115666666666666116665666666661100000
00000000055555156666666115551666666666666665156661151111566666666611555555511666666151111116515666666666661166661666666651500000
00000000005555116666666515551566666666666661166661155511116666666651555555511155565155111116611566666666651566651666666611600000
00000000005555115666666611551166666666666651166661155555511156666651555555551111111155511116651155666665115666651666666611000000
00000000006555511666666611555156666666666511166661155555555111566651555605555555555155515116665111111111116666611666666515000000
00000000000555511566666611555115666666665111166661155555555551115651600005555555555555555116666611111115116666611666666516000000
00000000000655551166666651555511156666511151166661165555555555111111600065555555550555555116666661155555116666611666666110000000
00000000000055551166666661155551111111115555155111160655555555555111600005555555550055555111111111155555115666511666665150000000
00000000000065555116666661155555511111555555111111160006555555555551500000066655550005055511111111155555111111111666665160000000
00000000000005555116666665155555555555555555555556000000065555555566600000000000000000055555555555555555555551111666661100000000
00000000000005555515666665155555555555555555555556000000000655555560000000000000000000055555555556660055555555511666651500000000
00000000000000555511666666116555555555560555555556000000000006555560000000000000000000055555555556000055555555511666651611110001
00000000000000555551566511116055555556000555555556000000000000065550000000000000000000066555555556000055555555511115511001011011
00000000000000655551111111556000666600000555660000000000000000000660000000000000000000000000066556000066555555555511115001010101
00000000000000055551111556000000000000000000000000000000000000000000000000000000000000000000000000000000000065555555516001010001
00000000000000065555115555000000000000000000000000000000000000000000000000000000000000000000000000000000000065555555560000000000
00000000000000005555555555600000000000000000000000000000000000000000000000000000000000000000000000000000000065555555500000000000
00000000000000006555555555600000000000000000000000000000000000000000000000000000000000000000000000000000000006555555500000000000
00000000000000000555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000006655600000000000
00000000000000000655600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000017777777777755651000000000000111000000000001666566667717100000000000000000015510000001151100000000
00000000000000000000000000000017777775555556561000000000001567100000000001666666667711000000000000000000167771000016677100000000
00000000000005111500000000000005775556777555651000000000015566510000000000156651677100000000000000000000167771000016677100000000
00000000005115555611000000000001556775111111551100000000015555510000000000011566611500000000000000000000115111000001151110000000
00000000515555777566100000000001761111111111111100000000056555710000000000166111517710000000000000000001511551000001515111000000
00000001555777777556650000000017111111561755175110000000001777100000000001667511617771100000000000000001577511000001551577100000
00000005577777777565610000000011515176661767767100000000000511000000000115177716661751661000000000000001666610000000115666100000
00000016777777777756565000000000116176666667757100000000000000000000001777517751111166566100000000000000111100000000001111000000
00150000000000577775117151166665610000000175555111111771167750000015555100155551001177100000000000000000000000000000000000000000
01771500000001777771661515166661771000000177777117711110166710000015555100155551000011000000000651156000000006000000000000000000
16717711100001177776661151115661771000000011111555115100016111000556565100156561000000000000001777777510000000600000066000000000
11616171511157617755651515116565577100000001555555155510051551100155651000155651000000000000017777666661000000660000006000000000
16156565151677661716565151115656177100000001555555155510001115100156561000555565100000000000177776666666500000066000000000006000
01115555151666611115656111111555171000000001555555555510001555511555650000015656100000000000576666667765100000066660000000066000
00001111511666111555555111111555155100000005555511555510017555511565610000015555100000000001766666676567550060006666000000066000
00000001110115000155555111111555167100000015555551555555017157101555510000015555100000000005576666675177510060006666666000060000
51766666511115100660006666666000000000000000016666161555665510000666666555666600000057776177175661556666665555555000000000000000
51566666511155100066006665666660000000000000005115555556566551000066666555666600000017566177556516567666661555551000000000000000
15156665561555550066606666566660000000000000000000155665566655500066666555566600000055661577751176176666661555510000000000000000
01566666655555510006606666556666000000000000000000566665666655100006666555566600000005150057777777176666661555100000000000000000
56777666665555510000606666555666600000000000000005676616666655510000066555566000000000000017777777766666661551000000000000000000
17766666656515555000006666655666660000000000000011777177666555661000001555566000000000000001777777716666615110000000000000000000
57666666616155551000006666655566666000000000001561777577666156666500015555000000000000000000177777771666611000000000000000000000
01666666161555555500006666655566666000000000017761775777661566666100155555000000000000000000016777766166550000000000000000000000
00000011666615555510000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000155551100166551000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001665510000166655100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00116666551000166665510000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01666666551000166666551000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
16666615551000016166555100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
16166165110000016616515100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05111115000000001111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
